## 题目

#### [470. 用 Rand7() 实现 Rand10()](https://leetcode-cn.com/problems/implement-rand10-using-rand7/)

已有方法 rand7 可生成 1 到 7 范围内的均匀随机整数，试写一个方法 rand10 生成 1 到 10 范围内的均匀随机整数。

不要使用系统的 Math.random() 方法

```go
输入: 3
输出: [8,1,10]
```



## 分析

```go
已知 rand_N() 可以等概率的生成[1, N]范围的随机数
那么：
(rand_X() - 1) × Y + rand_Y() ==> 可以等概率的生成[1, X * Y]范围的随机数
即实现了 rand_XY()
```

“**拒绝采样**”：如果某个采样结果不在要求的范围内，则丢弃它

**时间复杂度: ** `期望O(1),最坏O(∞)`

**空间复杂度:  **`O(1)`

## 解答

```go
func rand10() int {
	for {
		// 先生成[1,49]的数
		num := (rand7()-1)*7 + rand7()
		// 如果num在[1,40]区间内,直接返回
		if num <= 40 {
			return num%10 + 1
		}
		// 如果num在[41,49]的区间内,再操作一遍
		num = (num-40-1)*7 + rand7() // 这时候范围就在[1,63]区间内了
		// 如果在[1,60]直接返回
		if num <= 60 {
			return num%10 + 1
		}
		// 如果在[61,63]区间内,再操作一遍
		num = (num-60-1)*7 + rand7() // 这时候范围就在[1,21]区间了
		if num <= 20 {
			return num%10 + 1
		}
	}
}
```

